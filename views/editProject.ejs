<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Project</title>
    <link rel="stylesheet" href="/css/main.css">
</head>
<body>
    <%- include('partials/navbar', {page: ''}) %>

    <div class="container mx-auto p-8">
        <h1 class="text-4xl font-bold mb-8">Edit Project: <%= project.title %></h1>
        
        <form action="/solutions/editProject" method="POST" class="space-y-4 max-w-2xl">
            <input type="hidden" id="id" name="id" value="<%= project.id %>">
            
            <div>
                <label for="title" class="block font-semibold mb-2">Title</label>
                <input type="text" id="title" name="title" required 
                    value="<%= project.title %>" class="w-full p-2 border rounded">
            </div>

            <div>
                <label for="feature_img_url" class="block font-semibold mb-2">Feature Image URL</label>
                <input type="url" id="feature_img_url" name="feature_img_url" required 
                    value="<%= project.feature_img_url %>" class="w-full p-2 border rounded">
            </div>

            <div>
                <label for="sector_id" class="block font-semibold mb-2">Sector</label>
                <select id="sector_id" name="sector_id" required class="w-full p-2 border rounded">
                    <% sectors.forEach(sector => { %>
                        <option value="<%= sector.id %>" 
                            <%= (project.sector_id == sector.id) ? 'selected' : '' %>>
                            <%= sector.sector_name %>
                        </option>
                    <% }) %>
                </select>
            </div>

            <div>
                <label for="intro_short" class="block font-semibold mb-2">Introduction</label>
                <textarea id="intro_short" name="intro_short" required 
                    class="w-full p-2 border rounded" rows="4"><%= project.intro_short %></textarea>
            </div>

            <div>
                <label for="summary_short" class="block font-semibold mb-2">Summary</label>
                <textarea id="summary_short" name="summary_short" required 
                    class="w-full p-2 border rounded" rows="4"><%= project.summary_short %></textarea>
            </div>

            <div>
                <label for="impact" class="block font-semibold mb-2">Impact</label>
                <textarea id="impact" name="impact" required 
                    class="w-full p-2 border rounded" rows="4"><%= project.impact %></textarea>
            </div>

            <div>
                <label for="original_source_url" class="block font-semibold mb-2">Original Source URL</label>
                <input type="url" id="original_source_url" name="original_source_url" required 
                    value="<%= project.original_source_url %>" class="w-full p-2 border rounded">
            </div>

            <div class="flex gap-4">
                <button type="submit" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">
                    Update Project
                </button>
                <a href="/solutions/deleteProject/<%= project.id %>" 
                    class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600">
                    Delete Project
                </a>
            </div>
        </form>
    </div>
</body>
</html>